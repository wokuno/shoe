<!DOCTYPE html>
<html>
    <head>
        <title>SHOE</title>
    </head>
    <body>
        <h3>Total Steps:</h3>
    </br>
        <div id="totalSteps"></div>
    </br>
    </br>
        <h3>Total Miles:</h3>
    </br>
        <div id="totalDistance"></div>
    </br>
    </br>
        <h3>Total Pronation:</h3>
    </br>
        <div id="totalPronation"></div>
        <div id="totalSupination"></div>
    </br>
    </br>
        <h3>Total Foot Status:</h3>
    </br>
        <div id="totalStatus"></div>
    </br>
    </br>
        <h3>Latest Steps:</h3>
    </br>
        <div id="latestSteps"></div>
    </br>
    </br>
        <h3>Latest Miles:</h3>
    </br>
        <div id="latestDistance"></div>
    </br>
    </br>
        <h3>Latest Pronation:</h3>
    </br>
        <div id="latestPronation"></div>
        <div id="latestSupination"></div>
    </br>
    </br>
        <h3>Latest Foot Status:</h3>
    </br>
        <div id="latestStatus"></div>

    <script type="text/javascript">
        fetch('http://104.248.49.139/latestStepsO', {
            method: 'GET',
        })
        .then(response => response.text())
        .then(myText => {
            document.getElementById('latestSteps').innerHTML = myText;
            document.getElementById('latestDistance').innerHTML = Math.round((myText / 1672) * 100) / 100 ;
        });
        fetch('http://104.248.49.139/totalStepsO', {
            method: 'GET',
        })
        .then(response => response.text())
        .then(myText => {
            document.getElementById('totalSteps').innerHTML = myText;
            document.getElementById('totalDistance').innerHTML = Math.round((myText / 1672) * 100) / 100 ;
        });
        var pronation = 0;
        var supination = 0;
        fetch('http://104.248.49.139/pronation', {
            method: 'GET',
        })
        .then(response => response.text())
        .then(myText => {
            document.getElementById('latestPronation').innerHTML = "Pronation: " + myText;
            pronation = parseInt(myText);
            sum = pronation + supination;
            if (pronation > supination) {
                percentage = pronation / sum
                document.getElementById('latestStatus').innerHTML = "Pronated: " + percentage;
            } else {
                percentage = supination / sum;
                document.getElementById('latestStatus').innerHTML = "Supination: " + percentage;
            }
        });
        fetch('http://104.248.49.139/supination', {
            method: 'GET',
        })
        .then(response => response.text())
        .then(myText => {
            document.getElementById('latestSupination').innerHTML = "Supination: " + myText;
            supination = parseInt(myText);
            sum = pronation + supination;
            if (pronation > supination) {
                percentage = pronation / sum
                document.getElementById('latestStatus').innerHTML = "Pronated: " + percentage;
            } else {
                percentage = supination / sum;
                document.getElementById('latestStatus').innerHTML = "Supination: " + percentage;
            }
        });
        var Tpronation = 0;
        var Tsupination = 0;
        fetch('http://104.248.49.139/Tpronation', {
            method: 'GET',
        })
        .then(response => response.text())
        .then(myText => {
            document.getElementById('totalPronation').innerHTML = "Pronation: " + myText;
            Tpronation = parseInt(myText);
            sum = Tpronation + Tsupination;
            if (Tpronation > Tsupination) {
                percentage = Tpronation / sum
                document.getElementById('totalStatus').innerHTML = "Pronated: " + percentage;
            } else {
                percentage = Tsupination / sum;
                document.getElementById('totalStatus').innerHTML = "Supination: " + percentage;
            }
        });
        fetch('http://104.248.49.139/Tsupination', {
            method: 'GET',
        })
        .then(response => response.text())
        .then(myText => {
            document.getElementById('totalSupination').innerHTML = "Supination: " + myText;
            Tsupination = parseInt(myText);
            sum = Tpronation + Tsupination;
            if (Tpronation > Tsupination) {
                percentage = Tpronation / sum
                document.getElementById('totalStatus').innerHTML = "Pronated: " + percentage;
            } else {
                percentage = Tsupination / sum;
                document.getElementById('totalStatus').innerHTML = "Supination: " + percentage;
            }
        });
    </script>
    </body>
</html>